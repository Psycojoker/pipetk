#!/usr/bin/python
# -*- coding:utf-8 -*-

import sys
from BeautifulSoup import BeautifulSoup
from re import compile
from urllib2 import urlopen


WHITESPACES = compile(r'\s+')

def get_title(url):
    html = urlopen(url).read()
    soup = BeautifulSoup(html)
    title = soup.title.string if soup.title else u''
    # Normalize whitespaces
    title = title.strip()
    title = WHITESPACES.sub(' ', title)

    url = u'%s %s\n' % (url[:-1], title)
    return url.encode('utf-8')

def run():
    url = sys.stdin.readline()
    while url:
        try:
            title = get_title(url)
            sys.stdout.write(title)
        except Exception, e:
            sys.stderr.write("%s" % e)
        sys.stdout.flush()
        url = sys.stdin.readline()

if __name__ == "__main__":
    run()

# vim:set shiftwidth=4 tabstop=4 expandtab:
